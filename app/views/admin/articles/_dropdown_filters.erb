<%= turbo_frame_tag "turbo_articles_search_frame" do %>
  <%= form_with method: :get, data: {turbo_frame:'turbo_filtered_articles_frame',
                                     controller: 'search-and-filter-form',
                                     search_and_filter_form_target: "form"},
                class: 'd-flex justify-content-between' do |form| %>
    <%= form.select(:subcategory_id, @subcategories.collect {|record| [record.title, record.id]},
                                      {include_blank: 'All Subcategories',
                                       selected: params[:subcategory_id].nil? ? {} : params[:subcategory_id]},
                                      data: { action: "input->search-and-filter-form#search_and_filter" },
                                      class: 'dropdown-filter')
    %>
    <%= form.select(:team_id, @teams.collect {|record| [record.title, record.id]},
                                      {include_blank: 'All Teams',
                                       selected: params[:team_id].nil? ? {} : params[:team_id]},
                                      data: { action: "input->search-and-filter-form#search_and_filter" },
                                      class: 'dropdown-filter')
     %>
<!--    Todo: Temporary solution until Locations are defined or needed-->
    <div class="dropdown">
      <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown">
        All Locations
      </button>
      <div class="dropdown-menu">
        <a class="dropdown-item" href="#">Location 1</a>
        <a class="dropdown-item" href="#">Location 2</a>
      </div>
    </div>
  <% end %>
<% end %>