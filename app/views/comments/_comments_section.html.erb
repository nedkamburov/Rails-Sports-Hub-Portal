<article>
  <div class="comments-header d-flex justify-content-between">
    <div class="comment-count" id="comment-count">
      Comments (<%= article.comments.count %>)
    </div>
    <%= render 'comments/sort_by', article: article %>
  </div>
  <%= turbo_frame_tag 'turbo_sorted_comments_frame' do %>
    <div class="comments-inner" data-controller="article-comments">
      <%= render 'comments/comments_form', comment: nil, parent_id: nil if current_user.present? %>
          <div class="comments-list" id="comments-list">
              <%= render partial: "comments/comment", collection: comments, cached: true %>
          </div>
    </div>
    <%= render "shared/show_more_button", pagy: @pagy %>
  <% end %>
</article>